<!doctype html> <html lang=sr> <head> <meta charset=utf-8> <meta content=#333333 name=theme-color> <meta content="width=device-width,initial-scale=1" name=viewport> <title>Трајекторија</title> <meta content="трајекторија, блог, на српском, јаваскрипт, програмирање, србија" name=keywords> <meta content=Трајекторија name=title> <meta content=Трајекторија property=og:title> <meta content=Трајекторија property=twitter:title> <meta content="Трајекторија се бави темама из света програмирања. Циљ је скроман допринос српској заједници програмера." name=description> <meta content="Трајекторија се бави темама из света програмирања. Циљ је скроман допринос српској заједници програмера." property=og:description> <meta content="Трајекторија се бави темама из света програмирања. Циљ је скроман допринос српској заједници програмера." property=twitter:description> <meta content=https://trajektorija.com/logo_large.png property=og:image> <meta content=https://trajektorija.com/logo_large.png property=twitter:image> <meta content="Логотип сајта Трајекторија" property=og:image:alt> <meta content="Логотип сајта Трајекторија" property=twitter:image:alt> <meta content=https://trajektorija.com property=og:url> <meta content=website property=og:type> <meta content=summary_large_image property=twitter:card> <link href=https://fonts.gstatic.com rel=preconnect> <link href="https://fonts.googleapis.com/css2?family=Fira+Sans:wght@400;500&family=Roboto+Condensed:wght@400;500&display=swap" rel=stylesheet> <base href=/ > <link href=global.css rel=stylesheet> <link href=manifest.json rel=manifest crossorigin=use-credentials> <link href=favicon.png rel=icon type=image/png> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,(function(a,b){return {post:{title:a,description:b,html:"\n\u003Cp\u003E\n  Нисам сигуран ко је крив за погрешно поимање тога што је за Риект одабрано баш то име, да ли је то њихов главни тим, или само остатак света који само чека прилику да згази све што је до сада урађено. \n  Било како било, он је донео много иновација и нисам имао намеру да ово што сам скоро писао о њему погрешно звучи, односно да неко схвати да сам један од ових што једва чека да се подсмехне томе што није реактиван а зове се Риект. \n\u003C\u002Fp\u003E\n\n\u003Cp\u003E\n  С друге стране доста се развијао и Свелт. \n  Прве две верзије нису имале ништа ново што би ми привукло пажњу, а ни синтакса ми се није свиђала - доста је личило на Вју. \n\u003C\u002Fp\u003E\n\n\n\u003Cp\u003E\n  Кад сам већ поменуо Вју желим да кажем да ми се целокупна та идеја сецкања Енгулара, Риекта и прављење од њих џеј-ес кашу није свиђала па га нисам превише ни користио. \n  Оно што ме је нервирало јесте и недостатак идеја шта би то ново и иновативно могло да се убаци у следећу верзију, а да није већ виђено код других. \n  Ишло је исувише трапаво, као да ни сами нису знали на шта би требало да обрате пажњу и увек је испадало да водећи велики тимови, Риектов или Енгуларов, представе нешто ново, \n  а Вјуов тим направи копију тога отплике после годину дана.\n\u003C\u002Fp\u003E\n\n\u003Cp\u003E\n  Дакле како је Свелт успео да буде постане реактиван?\n\u003C\u002Fp\u003E\n\n\u003Cp\u003E\n  Идеју о томе како би требало да се код извршава су пронашли код алата који се зове \u003Ca href=\"https:\u002F\u002Fobservablehq.com\u002F@observablehq\u002Fa-taste-of-observable?collection=@observablehq\u002Foverview\" target=\"new\"\u003EОбзервабл\u003C\u002Fa\u003E. \n  Код њих се изврашавање кода не ради од врха ка дну, него тополошким редом, што значи да ако А зависи од Б онда ће се прво израчунати Б па тек онда А, независно од места где смо декларисали изразе.\n  Ако ово није довољно јасно, бољи пример може да буде Ексел табела.\n\u003C\u002Fp\u003E\n\n\u003Ccode\u003E\u003Cpre\u003EA1 = B1 + C1;\u003C\u002Fpre\u003E\u003C\u002Fcode\u003E\n\n\u003Cp\u003E\n  Ако имамо формулу као што је ова горе, прово ће се рачунати вредности поља B1 и C1 па тек онда доделити пољу A1. У сваком следећем тренутку ако дође до промена вредности поља B1 или C1 \n  промениће се и A1 без потребе да му се одради поновна додела. Ово је заправо прави пример реактивности и оно што ми хоћемо да имамо у Јаваскрипту.\n\u003C\u002Fp\u003E\n\n\u003Cp\u003E\n  Али у Јаваскрипту не постоји оператор реактивне доделе вредности и то би проузроковало синтаксну грешку. Оно што је добро овде је да је Свелт компајлер, што значи да може да има свој начин како ће да преводи написани код.\n  Оно што је фалило био је начин да некако кажемо да не желимо да користимо стандардан оператор доделе \u003Cb\u003E=\u003C\u002Fb\u003E, већ да то буде реактивни оператор доделе.\n  Решење које је Свелт тим одабрао је било да се користи \u003Ca href=\"https:\u002F\u002Fdeveloper.mozilla.org\u002Fen-US\u002Fdocs\u002FWeb\u002FJavaScript\u002FReference\u002FStatements\u002Flabel\" target=\"new\"\u003Eобележени исказ\u003C\u002Fa\u003E. \n  Ова опција је нешто мање заступљена и ређе се користи, па је самим тим и мање позната. Уз помоћ овог једноставног идентификатора Свелт ће знати како да се носи са комадом кода који је пред њим.\n\u003C\u002Fp\u003E\n\n\u003Cp\u003E\n  Дакле коначно смо нашли начин да напишемо нешто овако:\n\u003C\u002Fp\u003E\n\n\u003Ccode\u003E\n\u003Cpre\u003E\nlet a = 10;\n$: b = a + 1;\n\u003C\u002Fpre\u003E\n\u003C\u002Fcode\u003E\n\n\u003Cp\u003E\n  Хајде да видимо како ово ради на примеру једне једноставне компоненте.\n\u003C\u002Fp\u003E\n\n\u003Ccode\u003E\n\u003Cpre\u003E\n&lt;script&gt;\n  let a = \"A\";\n  $: c = b.length;\n  $: b = a + \"B\";\n  const clickHandler = () =&gt; a += \"X\";\n&lt;\u002Fscript&gt;\n\n&lt;h1&gt;{b}!&lt;\u002Fh1&gt;\n\n&lt;button on:click={clickHandler}&gt;\n  Click\n&lt;\u002Fbutton&gt;\n\u003C\u002Fpre\u003E\n\u003C\u002Fcode\u003E\n\n\u003Cp\u003E\n  У позадини постоји функција \u003Cb\u003Eupdate\u003C\u002Fb\u003E која је део једне веће функције. \n  Та већа функција у себи садржи поља које смо дефинисали кроз компоненту, а то су:  \u003Cb\u003Ea\u003C\u002Fb\u003E, \u003Cb\u003Eb\u003C\u002Fb\u003E, \u003Cb\u003Ec\u003C\u002Fb\u003E и коначно \u003Cb\u003EclickHandler\u003C\u002Fb\u003E. \n  Наша малочас поменута \u003Cb\u003Eupdate\u003C\u002Fb\u003E функција једноставним \u003Cb\u003Eif\u003C\u002Fb\u003E упитима интерно мења и инвалидира старе вредности.\n\u003C\u002Fp\u003E\n\n\u003Ccode\u003E\n\u003Cpre\u003E\n$$self.$$.update = (changed) =&gt; {\n  if(changed.a){\n    b = a + \"B\"; $$invalidate(\"b\", b);\n  }\n  if(changed.b){\n    c = b.length; $$invalidate(\"c\", c);\n  }\n}\n\u003C\u002Fpre\u003E\n\u003C\u002Fcode\u003E\n\n\u003Cp\u003E\n  Овде видимо да програм који се извршава у позадини је довољно паметан да препозна да \u003Cb\u003Ec\u003C\u002Fb\u003E зависи од вредности поља \u003Cb\u003Eb\u003C\u002Fb\u003E. \n  Зна да прво треба да израчуна \u003Cb\u003Eb\u003C\u002Fb\u003E да би касније могао да израчуна вредност поља \u003Cb\u003Ec\u003C\u002Fb\u003E.\n\u003C\u002Fp\u003E\n\n\u003Cp\u003E\n  То је тополошки редослед извршавања о ком смо причали малопре и као што видимо редослед писања исказа не утиче овај начин извршавања. \n\u003C\u002Fp\u003E\n\n",slug:"svelte-i-njegova-reaktivnost",categories:[{id:"reaktivnost",label:"Реактивност"},{id:"svelte",label:"Свелт"}],date:1620341319309,metadata:{title:a,description:b,keywords:"Реактивност, Свелт",url:"https:\u002F\u002Ftrajektorija.com\u002Fsvelte-i-njegova-reaktivnost",thumb:"https:\u002F\u002Ftrajektorija.com\u002Fimages\u002Fposts\u002Fsvelte-i-njegova-reaktivnost.png",thumbAlt:"Логотип сајта Трајекторија"}}}}("Свелт и његова реактивност","О потезима које је Свелт повукао да би постао реактиван"))]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');(function(){try{eval("async function x(){}");var main="/client/client.244f91d9.js"}catch(e){main="/client/legacy/client.4cb6b1b0.js"};var s=document.createElement("script");try{new Function("if(0)import('')")();s.src=main;s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@2.0.4.js";s.setAttribute("data-main",main);}document.head.appendChild(s);}());</script> <link href=client/client-9de7cf7e.css rel=stylesheet><link href=client/[slug]-b01ddd73.css rel=stylesheet> <title>Свелт и његова реактивност | Трајекторија</title><meta content="Реактивност, Свелт" data-svelte=svelte-jnjsyk name=keywords><meta content="Свелт и његова реактивност" data-svelte=svelte-jnjsyk name=title><meta content="Свелт и његова реактивност" property=og:title data-svelte=svelte-jnjsyk><meta content="Свелт и његова реактивност" property=twitter:title data-svelte=svelte-jnjsyk><meta content="О потезима које је Свелт повукао да би постао реактиван" data-svelte=svelte-jnjsyk name=description><meta content="О потезима које је Свелт повукао да би постао реактиван" property=og:description data-svelte=svelte-jnjsyk><meta content="О потезима које је Свелт повукао да би постао реактиван" property=twitter:description data-svelte=svelte-jnjsyk><meta content=https://trajektorija.com/images/posts/svelte-i-njegova-reaktivnost.png property=og:image data-svelte=svelte-jnjsyk><meta content=https://trajektorija.com/images/posts/svelte-i-njegova-reaktivnost.png property=twitter:image data-svelte=svelte-jnjsyk><meta content="Логотип сајта Трајекторија" property=og:image:alt data-svelte=svelte-jnjsyk><meta content="Логотип сајта Трајекторија" property=twitter:image:alt data-svelte=svelte-jnjsyk><meta content=https://trajektorija.com/svelte-i-njegova-reaktivnost property=og:url data-svelte=svelte-jnjsyk><meta content=article property=og:type data-svelte=svelte-jnjsyk><meta content=summary_large_image property=twitter:card data-svelte=svelte-jnjsyk> <link href=/client/client.244f91d9.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/client-9de7cf7e.css rel=preload as=style><link href=/client/[slug].a85fe1cd.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/index.ca77a56d.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/inject_styles.5607aec6.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/[slug]-b01ddd73.css rel=preload as=style></head> <body> <div id=sapper> <div class="svelte-1qbgn1e nav"><a href=/ class=svelte-1qbgn1e><div class="svelte-1qbgn1e center-logo"><h1 class=svelte-1qbgn1e>Трајекторија</h1></div></a></div> <main class=svelte-1eviz8r> <div><h1 class=svelte-1e7wj3u>Свелт и његова реактивност</h1> <div class="svelte-1e7wj3u content"> <p> Нисам сигуран ко је крив за погрешно поимање тога што је за Риект одабрано баш то име, да ли је то њихов главни тим, или само остатак света који само чека прилику да згази све што је до сада урађено. Било како било, он је донео много иновација и нисам имао намеру да ово што сам скоро писао о њему погрешно звучи, односно да неко схвати да сам један од ових што једва чека да се подсмехне томе што није реактиван а зове се Риект. </p> <p> С друге стране доста се развијао и Свелт. Прве две верзије нису имале ништа ново што би ми привукло пажњу, а ни синтакса ми се није свиђала - доста је личило на Вју. </p> <p> Кад сам већ поменуо Вју желим да кажем да ми се целокупна та идеја сецкања Енгулара, Риекта и прављење од њих џеј-ес кашу није свиђала па га нисам превише ни користио. Оно што ме је нервирало јесте и недостатак идеја шта би то ново и иновативно могло да се убаци у следећу верзију, а да није већ виђено код других. Ишло је исувише трапаво, као да ни сами нису знали на шта би требало да обрате пажњу и увек је испадало да водећи велики тимови, Риектов или Енгуларов, представе нешто ново, а Вјуов тим направи копију тога отплике после годину дана. </p> <p> Дакле како је Свелт успео да буде постане реактиван? </p> <p> Идеју о томе како би требало да се код извршава су пронашли код алата који се зове <a href="https://observablehq.com/@observablehq/a-taste-of-observable?collection=@observablehq/overview" target=new>Обзервабл</a>. Код њих се изврашавање кода не ради од врха ка дну, него тополошким редом, што значи да ако А зависи од Б онда ће се прво израчунати Б па тек онда А, независно од места где смо декларисали изразе. Ако ово није довољно јасно, бољи пример може да буде Ексел табела. </p> <code><pre>A1 = B1 + C1;</pre></code> <p> Ако имамо формулу као што је ова горе, прово ће се рачунати вредности поља B1 и C1 па тек онда доделити пољу A1. У сваком следећем тренутку ако дође до промена вредности поља B1 или C1 промениће се и A1 без потребе да му се одради поновна додела. Ово је заправо прави пример реактивности и оно што ми хоћемо да имамо у Јаваскрипту. </p> <p> Али у Јаваскрипту не постоји оператор реактивне доделе вредности и то би проузроковало синтаксну грешку. Оно што је добро овде је да је Свелт компајлер, што значи да може да има свој начин како ће да преводи написани код. Оно што је фалило био је начин да некако кажемо да не желимо да користимо стандардан оператор доделе <b>=</b>, већ да то буде реактивни оператор доделе. Решење које је Свелт тим одабрао је било да се користи <a href=https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/label target=new>обележени исказ</a>. Ова опција је нешто мање заступљена и ређе се користи, па је самим тим и мање позната. Уз помоћ овог једноставног идентификатора Свелт ће знати како да се носи са комадом кода који је пред њим. </p> <p> Дакле коначно смо нашли начин да напишемо нешто овако: </p> <code> <pre>
let a = 10;
$: b = a + 1;
</pre> </code> <p> Хајде да видимо како ово ради на примеру једне једноставне компоненте. </p> <code> <pre>
&lt;script>
  let a = "A";
  $: c = b.length;
  $: b = a + "B";
  const clickHandler = () => a += "X";
&lt;/script>

&lt;h1>{b}!&lt;/h1>

&lt;button on:click={clickHandler}>
  Click
&lt;/button>
</pre> </code> <p> У позадини постоји функција <b>update</b> која је део једне веће функције. Та већа функција у себи садржи поља које смо дефинисали кроз компоненту, а то су: <b>a</b>, <b>b</b>, <b>c</b> и коначно <b>clickHandler</b>. Наша малочас поменута <b>update</b> функција једноставним <b>if</b> упитима интерно мења и инвалидира старе вредности. </p> <code> <pre>
$$self.$$.update = (changed) => {
  if(changed.a){
    b = a + "B"; $$invalidate("b", b);
  }
  if(changed.b){
    c = b.length; $$invalidate("c", c);
  }
}
</pre> </code> <p> Овде видимо да програм који се извршава у позадини је довољно паметан да препозна да <b>c</b> зависи од вредности поља <b>b</b>. Зна да прво треба да израчуна <b>b</b> да би касније могао да израчуна вредност поља <b>c</b>. </p> <p> То је тополошки редослед извршавања о ком смо причали малопре и као што видимо редослед писања исказа не утиче овај начин извршавања. </p> </div></div></main> <footer class=svelte-1eviz8r><div class="svelte-1eviz8r footer-content"><a href=/ class="svelte-1eviz8r copyright-link">Трајекторија<span class="svelte-1eviz8r copy">©</span><span class="svelte-1eviz8r date">2021</span></a> <div class="svelte-1eviz8r controls"><button class=svelte-1eviz8r> <svg fill=currentColor height=14 stroke=currentColor stroke-width=0 viewBox="0 0 20 20" width=14 xmlns=http://www.w3.org/2000/svg><path d="M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"></path></svg></button> <button class=svelte-1eviz8r><svg fill=currentColor height=14 stroke=currentColor stroke-width=0 viewBox="0 0 576 512" width=14 xmlns=http://www.w3.org/2000/svg><path d="M342.8 352.7c5.7-9.6 9.2-20.7 9.2-32.7 0-35.3-28.7-64-64-64-17.2 0-32.8 6.9-44.3 17.9-16.3-29.6-47.5-49.9-83.7-49.9-53 0-96 43-96 96 0 2 .5 3.8.6 5.7C27.1 338.8 0 374.1 0 416c0 53 43 96 96 96h240c44.2 0 80-35.8 80-80 0-41.9-32.3-75.8-73.2-79.3zm222.5-54.3c-93.1 17.7-178.5-53.7-178.5-147.7 0-54.2 29-104 76.1-130.8 7.3-4.1 5.4-15.1-2.8-16.7C448.4 1.1 436.7 0 425 0 319.1 0 233.1 85.9 233.1 192c0 8.5.7 16.8 1.8 25 5.9 4.3 11.6 8.9 16.7 14.2 11.4-4.7 23.7-7.2 36.4-7.2 52.9 0 96 43.1 96 96 0 3.6-.2 7.2-.6 10.7 23.6 10.8 42.4 29.5 53.5 52.6 54.4-3.4 103.7-29.3 137.1-70.4 5.3-6.5-.5-16.1-8.7-14.5z"></path></svg></button></div></div></footer></div> 