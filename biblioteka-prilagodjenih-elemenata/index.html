<!doctype html> <html lang=sr> <head> <meta charset=utf-8> <meta content=#333333 name=theme-color> <meta content="width=device-width,initial-scale=1" name=viewport> <title>Трајекторија</title> <meta content="трајекторија, блог, на српском, јаваскрипт, програмирање, србија" name=keywords> <meta content=Трајекторија name=title> <meta content=Трајекторија property=og:title> <meta content=Трајекторија property=twitter:title> <meta content="Трајекторија се бави темама из света програмирања. Циљ је скроман допринос српској заједници програмера." name=description> <meta content="Трајекторија се бави темама из света програмирања. Циљ је скроман допринос српској заједници програмера." property=og:description> <meta content="Трајекторија се бави темама из света програмирања. Циљ је скроман допринос српској заједници програмера." property=twitter:description> <meta content=https://trajektorija.com/logo_large.png property=og:image> <meta content=https://trajektorija.com/logo_large.png property=twitter:image> <meta content="Логотип сајта Трајекторија" property=og:image:alt> <meta content="Логотип сајта Трајекторија" property=twitter:image:alt> <meta content=https://trajektorija.com property=og:url> <meta content=website property=og:type> <meta content=summary_large_image property=twitter:card> <link href=https://fonts.gstatic.com rel=preconnect> <link href="https://fonts.googleapis.com/css2?family=Fira+Sans:wght@400;500&family=Roboto+Condensed:wght@400;500&display=swap" rel=stylesheet> <base href=/ > <link href=global.css rel=stylesheet> <link href=manifest.json rel=manifest crossorigin=use-credentials> <link href=favicon.png rel=icon type=image/png> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,(function(a,b){return {post:{title:a,description:b,html:"\n\u003Cp\u003E\n  Постоји вероватно много начина како се креира библиотека састављена од прилагођених елемената. Ја сам за данашњу тему одабрао онај који је мени деловао најједноставније.\n\u003C\u002Fp\u003E \n\n\u003Cp\u003E\n  Као што сам поменуо у једном од својих претходних чланака, повремено се појави потреба да користећи своје ресурсе и постојећу инфраструктуру направимо библиотеку \n  састављену од одређених компоненти и потом доставимо другима на коришћење.\n  Не знам да ли је само мени на први поглед деловало компликовано, али суштина је да се помоћу конфигурације направи сноп Јаваскрипт кода који после други могу да увозе.\n\u003C\u002Fp\u003E \n\n\u003Cp\u003E\n  Као последица учења нових ствари моје мишљење о алатима које сам користио се драстично мењало.\n  Једног дана сам наишао на блог, стар око десетак година, који је за мало старије записе лепо напоменуо:\n  „Овај чланак је стар више од две године. Сасвим је могуће да се моје мишљење на ову тему данас уопште не слаже са овде написаним.”.\n  Веома ми се свидело то што сам видео, тако да имаш право да погађаш само једном шта ћу данас да правим.\n  \u003C\u002Fp\u003E \n\n\u003Cp\u003E\n  Компонента која треба да буде обележена као прилагођена се од обичне разликује само по томе што \n  садржи специјални обележивач који нам пружа Свелт: \u003Cspan class=\"code\"\u003E&lt;svelte:options \u002F&gt;\u003C\u002Fspan\u003E. \n  Овај обележивач као параметар прима и назив по ком ћемо га, када увеземо библиотеку, позивати у нашој апликацији.\n\u003C\u002Fp\u003E \n\n\u003Ccode\u003E\n\u003Cpre\u003E\n&lt;script&gt;\n  ... \n  export let date;\n  const currentYear = new Date().getFullYear();\n  const dateYear = new Date(+date).getFullYear();\n  const shouldShow = currentYear - dateYear &gt;= 2;\n&lt;\u002Fscript&gt;\n\n&lt;style&gt;  \n  ...\n&lt;\u002Fstyle&gt;\n\n{#if shouldShow}\n  &lt;div&gt;\n    &lt;span&gt;\n      &lt;WarningIcon \u002F&gt;\n    &lt;\u002Fspan&gt;\n    &lt;p&gt;\n      Овај чланак је стар више од две године. Сасвим је могуће да се моје\n      мишљење на ову тему данас уопште не слаже са овде написаним.\n    &lt;\u002Fp&gt;\n  &lt;\u002Fdiv&gt;\n{\u002Fif}\n\n&lt;svelte:options tag=\"deprecated-warning\" \u002F&gt;\n\u003C\u002Fpre\u003E\n\u003C\u002Fcode\u003E\n\n\u003Cp\u003E\n  Оно што нас занима овде је датум који нам стиже споља. Једноставно поредимо тренутни\n  и прослеђени датум и ако испуњава наш интерни услов онда приказујемо обавештење. \n  На крају кроз \u003Cspan class=\"code\"\u003Esvelte:options\u003C\u002Fspan\u003E кажемо како хоћемо да се наша компонента зове, односно обележивач\n  који ћемо да користимо да бисмо је приказали. \n\n  Наравно ову компоненту сам могао да направим да буде још више конфигурабилна, тако да особа која је користи може да бира оно што ће\n  исписивати или да може да накачи неколико функција које ће, слушајући на одређене догађаје, да манипулишу компонентом. \n  Идеја овог чланка је више да покажем процес имплементације компоненте и начин на који можемо да направимо сноп.\n\u003C\u002Fp\u003E \n\n\u003Cp\u003E\n За потребе прављења снопа требаће ми алат којим могу да направим минификовани фајл користећи одређену конфигурацију. \n У овом случају користићу \u003Ca href=\"https:\u002F\u002Frollupjs.org\u002Fguide\u002Fen\u002F\" target=\"_blank\"\u003EРолап\u003C\u002Fa\u003E.\n\u003C\u002Fp\u003E \n\n\u003Ccode\u003E\n\u003Cpre\u003E\nimport svelte from 'rollup-plugin-svelte';\nimport resolve from '@rollup\u002Fplugin-node-resolve';\nconst terser = require('rollup-plugin-terser').terser;\nimport pkg from '.\u002Fpackage.json';\n\nconst name = pkg.name;\n\nexport default {\n\tinput: 'src\u002Findex.js',\n\toutput: [{ file: pkg.main, 'format': 'umd', name, plugins: [ terser() ] }],\n\tplugins: [\n\t\tsvelte({ customElement: true }),\n\t\tresolve(),\n\t]\n}\n\u003C\u002Fpre\u003E\n\u003C\u002Fcode\u003E\n\n\u003Cp\u003E\n Оно што ће ова конфигурација направити је минификовани Јаваскрипт фајл који у себи садржи компоненте које смо извезли кроз \n фајл који смо дефинисали као улазни, кроз поље \u003Cspan class=\"code\"\u003Einput\u003C\u002Fspan\u003E. \n У овом фајлу су само пописане компоненте које хоћемо да извеземо, а које ће потом да буду укључене у нашу библиотеку.\n\u003C\u002Fp\u003E \n\n\u003Cp\u003E\n Оно што је још важно је да, када хоћемо да извеземо прилагођене елементе, \n морамо и да напоменемо у Ролап конфигурацији да ћемо имати бар један прилагођени елемент. Ово је немогуће пропустити,\n јер ће и компонента коју смо дефинисали да буде прилагођена такође обавестити развијаоца да обавезно каже Свелту да такве \n компоненте постоје.\n\u003C\u002Fp\u003E \n\n\u003Cp\u003E\n Када коначно направимо конфигурацију какву желимо и добијемо фајл који можемо да увеземо, компоненту у свом коду користимо \n онако како смо дефинисали кроз \u003Cspan class=\"code\"\u003Esvelte:options\u003C\u002Fspan\u003E. \n \n У случају да нашу новокреирану компоненту хоћемо да убацимо у ХТМЛ фајл, позивање би било крајње једноставно, \n као када бисмо позвали било који други обележивач, с тим што за прослеђивање вредности нису потребни никакви префикси, што додатно олакшава коришћење.\n\u003C\u002Fp\u003E \n",slug:"biblioteka-prilagodjenih-elemenata",categories:[{id:"svelte",label:"Свелт"},{id:"rollup",label:"Ролап"}],date:1623360366065,metadata:{title:a,description:b,keywords:"Свелт, Ролап",url:"https:\u002F\u002Ftrajektorija.com\u002Fbiblioteka-prilagodjenih-elemenata",thumb:"https:\u002F\u002Ftrajektorija.com\u002Fimages\u002Fposts\u002Fbiblioteka-prilagodjenih-elemenata.png",thumbAlt:"Логотип сајта Трајекторија"}}}}("Библиотека прилагођених елемената","О процесу изградње библиотеке састављене од неограниченог броја елемената"))]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');(function(){try{eval("async function x(){}");var main="/client/client.519dfabb.js"}catch(e){main="/client/legacy/client.76e37da4.js"};var s=document.createElement("script");try{new Function("if(0)import('')")();s.src=main;s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@2.0.4.js";s.setAttribute("data-main",main);}document.head.appendChild(s);}());</script> <link href=client/client-9de7cf7e.css rel=stylesheet><link href=client/[slug]-da9fd523.css rel=stylesheet> <title>Библиотека прилагођених елемената | Трајекторија</title><meta content="Свелт, Ролап" data-svelte=svelte-jnjsyk name=keywords><meta content="Библиотека прилагођених елемената" data-svelte=svelte-jnjsyk name=title><meta content="Библиотека прилагођених елемената" property=og:title data-svelte=svelte-jnjsyk><meta content="Библиотека прилагођених елемената" property=twitter:title data-svelte=svelte-jnjsyk><meta content="О процесу изградње библиотеке састављене од неограниченог броја елемената" data-svelte=svelte-jnjsyk name=description><meta content="О процесу изградње библиотеке састављене од неограниченог броја елемената" property=og:description data-svelte=svelte-jnjsyk><meta content="О процесу изградње библиотеке састављене од неограниченог броја елемената" property=twitter:description data-svelte=svelte-jnjsyk><meta content=https://trajektorija.com/images/posts/biblioteka-prilagodjenih-elemenata.png property=og:image data-svelte=svelte-jnjsyk><meta content=https://trajektorija.com/images/posts/biblioteka-prilagodjenih-elemenata.png property=twitter:image data-svelte=svelte-jnjsyk><meta content="Логотип сајта Трајекторија" property=og:image:alt data-svelte=svelte-jnjsyk><meta content="Логотип сајта Трајекторија" property=twitter:image:alt data-svelte=svelte-jnjsyk><meta content=https://trajektorija.com/biblioteka-prilagodjenih-elemenata property=og:url data-svelte=svelte-jnjsyk><meta content=article property=og:type data-svelte=svelte-jnjsyk><meta content=summary_large_image property=twitter:card data-svelte=svelte-jnjsyk> <link href=/client/client.519dfabb.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/client-9de7cf7e.css rel=preload as=style><link href=/client/[slug].a1e6734b.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/index.908491b8.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/inject_styles.5607aec6.js rel=modulepreload as=script crossorigin=use-credentials><link href=/client/[slug]-da9fd523.css rel=preload as=style></head> <body> <div id=sapper> <div class="svelte-1qbgn1e nav"><a href=/ class=svelte-1qbgn1e><div class="svelte-1qbgn1e center-logo"><h1 class=svelte-1qbgn1e>Трајекторија</h1></div></a></div> <main class=svelte-1eviz8r> <div><h1 class=svelte-1rblvs9>Библиотека прилагођених елемената</h1> <div class="svelte-1rblvs9 content"> <p> Постоји вероватно много начина како се креира библиотека састављена од прилагођених елемената. Ја сам за данашњу тему одабрао онај који је мени деловао најједноставније. </p> <p> Као што сам поменуо у једном од својих претходних чланака, повремено се појави потреба да користећи своје ресурсе и постојећу инфраструктуру направимо библиотеку састављену од одређених компоненти и потом доставимо другима на коришћење. Не знам да ли је само мени на први поглед деловало компликовано, али суштина је да се помоћу конфигурације направи сноп Јаваскрипт кода који после други могу да увозе. </p> <p> Као последица учења нових ствари моје мишљење о алатима које сам користио се драстично мењало. Једног дана сам наишао на блог, стар око десетак година, који је за мало старије записе лепо напоменуо: „Овај чланак је стар више од две године. Сасвим је могуће да се моје мишљење на ову тему данас уопште не слаже са овде написаним.”. Веома ми се свидело то што сам видео, тако да имаш право да погађаш само једном шта ћу данас да правим. </p> <p> Компонента која треба да буде обележена као прилагођена се од обичне разликује само по томе што садржи специјални обележивач који нам пружа Свелт: <span class=code>&lt;svelte:options /></span>. Овај обележивач као параметар прима и назив по ком ћемо га, када увеземо библиотеку, позивати у нашој апликацији. </p> <code> <pre>
&lt;script>
  ... 
  export let date;
  const currentYear = new Date().getFullYear();
  const dateYear = new Date(+date).getFullYear();
  const shouldShow = currentYear - dateYear >= 2;
&lt;/script>

&lt;style>  
  ...
&lt;/style>

{#if shouldShow}
  &lt;div>
    &lt;span>
      &lt;WarningIcon />
    &lt;/span>
    &lt;p>
      Овај чланак је стар више од две године. Сасвим је могуће да се моје
      мишљење на ову тему данас уопште не слаже са овде написаним.
    &lt;/p>
  &lt;/div>
{/if}

&lt;svelte:options tag="deprecated-warning" />
</pre> </code> <p> Оно што нас занима овде је датум који нам стиже споља. Једноставно поредимо тренутни и прослеђени датум и ако испуњава наш интерни услов онда приказујемо обавештење. На крају кроз <span class=code>svelte:options</span> кажемо како хоћемо да се наша компонента зове, односно обележивач који ћемо да користимо да бисмо је приказали. Наравно ову компоненту сам могао да направим да буде још више конфигурабилна, тако да особа која је користи може да бира оно што ће исписивати или да може да накачи неколико функција које ће, слушајући на одређене догађаје, да манипулишу компонентом. Идеја овог чланка је више да покажем процес имплементације компоненте и начин на који можемо да направимо сноп. </p> <p> За потребе прављења снопа требаће ми алат којим могу да направим минификовани фајл користећи одређену конфигурацију. У овом случају користићу <a href=https://rollupjs.org/guide/en/ target=_blank>Ролап</a>. </p> <code> <pre>
import svelte from 'rollup-plugin-svelte';
import resolve from '@rollup/plugin-node-resolve';
const terser = require('rollup-plugin-terser').terser;
import pkg from './package.json';

const name = pkg.name;

export default {
	input: 'src/index.js',
	output: [{ file: pkg.main, 'format': 'umd', name, plugins: [ terser() ] }],
	plugins: [
		svelte({ customElement: true }),
		resolve(),
	]
}
</pre> </code> <p> Оно што ће ова конфигурација направити је минификовани Јаваскрипт фајл који у себи садржи компоненте које смо извезли кроз фајл који смо дефинисали као улазни, кроз поље <span class=code>input</span>. У овом фајлу су само пописане компоненте које хоћемо да извеземо, а које ће потом да буду укључене у нашу библиотеку. </p> <p> Оно што је још важно је да, када хоћемо да извеземо прилагођене елементе, морамо и да напоменемо у Ролап конфигурацији да ћемо имати бар један прилагођени елемент. Ово је немогуће пропустити, јер ће и компонента коју смо дефинисали да буде прилагођена такође обавестити развијаоца да обавезно каже Свелту да такве компоненте постоје. </p> <p> Када коначно направимо конфигурацију какву желимо и добијемо фајл који можемо да увеземо, компоненту у свом коду користимо онако како смо дефинисали кроз <span class=code>svelte:options</span>. У случају да нашу новокреирану компоненту хоћемо да убацимо у ХТМЛ фајл, позивање би било крајње једноставно, као када бисмо позвали било који други обележивач, с тим што за прослеђивање вредности нису потребни никакви префикси, што додатно олакшава коришћење. </p> </div></div></main> <footer class=svelte-1eviz8r><div class="svelte-1eviz8r footer-content"><a href=/ class="svelte-1eviz8r copyright-link">Трајекторија<span class="svelte-1eviz8r copy">©</span><span class="svelte-1eviz8r date">2021</span></a> <div class="svelte-1eviz8r controls"><button class=svelte-1eviz8r> <svg fill=currentColor height=14 stroke=currentColor stroke-width=0 viewBox="0 0 20 20" width=14 xmlns=http://www.w3.org/2000/svg><path d="M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"></path></svg></button> <button class=svelte-1eviz8r><svg fill=currentColor height=14 stroke=currentColor stroke-width=0 viewBox="0 0 576 512" width=14 xmlns=http://www.w3.org/2000/svg><path d="M342.8 352.7c5.7-9.6 9.2-20.7 9.2-32.7 0-35.3-28.7-64-64-64-17.2 0-32.8 6.9-44.3 17.9-16.3-29.6-47.5-49.9-83.7-49.9-53 0-96 43-96 96 0 2 .5 3.8.6 5.7C27.1 338.8 0 374.1 0 416c0 53 43 96 96 96h240c44.2 0 80-35.8 80-80 0-41.9-32.3-75.8-73.2-79.3zm222.5-54.3c-93.1 17.7-178.5-53.7-178.5-147.7 0-54.2 29-104 76.1-130.8 7.3-4.1 5.4-15.1-2.8-16.7C448.4 1.1 436.7 0 425 0 319.1 0 233.1 85.9 233.1 192c0 8.5.7 16.8 1.8 25 5.9 4.3 11.6 8.9 16.7 14.2 11.4-4.7 23.7-7.2 36.4-7.2 52.9 0 96 43.1 96 96 0 3.6-.2 7.2-.6 10.7 23.6 10.8 42.4 29.5 53.5 52.6 54.4-3.4 103.7-29.3 137.1-70.4 5.3-6.5-.5-16.1-8.7-14.5z"></path></svg></button></div></div></footer></div> 